{"level":"error","message":"❌ Erreur configuration brevo: hbs is not a function","service":"ophrus-backend","stack":"TypeError: hbs is not a function\n    at setupNodemailer (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\services\\emailService.js:40:20)\n    at testEmailConfig (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\services\\emailService.js:164:23)\n    at C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\server.js:8:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-26 16:16:13.084"}
{"error":"jwt malformed","level":"error","message":"Erreur d'authentification","service":"ophrus-backend","stack":"JsonWebTokenError: jwt malformed\n    at module.exports [as verify] (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\node_modules\\jsonwebtoken\\verify.js:70:17)\n    at verifyJwtToken (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\middlewares\\authMiddleware.js:55:14)\n    at protect (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\middlewares\\authMiddleware.js:17:21)\n    at Layer.handle [as handle_request] (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2025-07-26 16:30:02.203"}
{"code":"ENOENT","errno":-4058,"level":"error","message":"❌ Erreur Nodemailer: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","path":"C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","syscall":"open","timestamp":"2025-07-26 17:50:15.070"}
{"email":"testuser_1753544975070787700@example.com","level":"error","message":"Erreur lors de la demande de réinitialisation: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","timestamp":"2025-07-26 17:50:15.074"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 6884f9103f3dd0d0148ed67c","service":"ophrus-backend","timestamp":"2025-07-26 17:50:16.312"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 6884f9393f3dd0d0148ed691","service":"ophrus-backend","timestamp":"2025-07-26 17:50:35.179"}
{"code":"ENOENT","errno":-4058,"level":"error","message":"❌ Erreur Nodemailer: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","path":"C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","syscall":"open","timestamp":"2025-07-26 17:53:21.798"}
{"email":"testuser_1753545168477724000@example.com","level":"error","message":"Erreur lors de la demande de réinitialisation: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","timestamp":"2025-07-26 17:53:21.802"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 6884f9d1e0671dd338f4522d","service":"ophrus-backend","timestamp":"2025-07-26 17:53:24.317"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 6884f9f6e0671dd338f45242","service":"ophrus-backend","timestamp":"2025-07-26 17:54:13.189"}
{"code":"ENOENT","errno":-4058,"level":"error","message":"❌ Erreur Nodemailer: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","path":"C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","syscall":"open","timestamp":"2025-07-26 18:16:59.930"}
{"email":"testuser_1753546580478898800@example.com","level":"error","message":"Erreur lors de la demande de réinitialisation: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","timestamp":"2025-07-26 18:16:59.933"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 6884ff58e0671dd338f4524e","service":"ophrus-backend","timestamp":"2025-07-26 18:17:01.451"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 6884ff7fe0671dd338f45263","service":"ophrus-backend","timestamp":"2025-07-26 18:17:20.264"}
{"code":"ENOENT","errno":-4058,"level":"error","message":"❌ Erreur Nodemailer: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","path":"C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","syscall":"open","timestamp":"2025-07-26 18:18:28.784"}
{"email":"testuser_1753546671872236100@example.com","level":"error","message":"Erreur lors de la demande de réinitialisation: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","timestamp":"2025-07-26 18:18:28.787"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 6884ffb3f38e6ac89939ff75","service":"ophrus-backend","timestamp":"2025-07-26 18:18:30.174"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 6884ffd7f38e6ac89939ffa7","service":"ophrus-backend","timestamp":"2025-07-26 18:18:46.845"}
{"code":"ENOENT","errno":-4058,"level":"error","message":"❌ Erreur Nodemailer: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","path":"C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","syscall":"open","timestamp":"2025-07-26 18:23:11.501"}
{"email":"testuser_1753546950210778500@example.com","level":"error","message":"Erreur lors de la demande de réinitialisation: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","service":"ophrus-backend","stack":"Error: ENOENT: no such file or directory, open 'C:\\Users\\SERVER-GOLD\\Documents\\Ophrus-immo\\views\\emails\\templates\\resetPassword.hbs'","timestamp":"2025-07-26 18:23:11.505"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 688500c7f38e6ac89939ffb3","service":"ophrus-backend","timestamp":"2025-07-26 18:23:14.174"}
{"level":"error","message":"Utilisateur non trouvé ou refreshTokens non défini lors de la déconnexion ID: 688500f3f38e6ac89939ffe2","service":"ophrus-backend","timestamp":"2025-07-26 18:23:36.959"}
